
APP_NAME=job-scheduler
APP_ENV=development  # development, testing, staging, production
DEBUG=true
SECRET_KEY=change_this_to_a_secure_random_string
API_HOST=0.0.0.0
API_PORT=8000
WORKERS=4  # Number of Uvicorn workers
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Database Settings
# ----------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/scheduler
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=1800  # 30 minutes
DATABASE_ECHO=false  # Set to true to log SQL queries

# Redis Settings
# -------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false
CACHE_PREFIX=scheduler:
CACHE_DEFAULT_TTL=3600  # 1 hour

# Celery Settings
# --------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
WORKER_CONCURRENCY=4
WORKER_MAX_TASKS_PER_CHILD=1000
WORKER_TASK_TIME_LIMIT=3600  # 1 hour max task runtime
WORKER_TASK_SOFT_TIME_LIMIT=3300  # 55 minutes soft limit
FLOWER_USER=admin
FLOWER_PASSWORD=admin

# Scheduler Settings
# -----------------
MAX_TASK_RETRIES=3
DEFAULT_TASK_TIMEOUT=3600  # Default timeout in seconds
EXECUTION_RETENTION_DAYS=30  # How long to keep execution history

# Logging Settings
# ---------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=text  # text or json
LOG_FILE=logs/scheduler.log
ENABLE_ACCESS_LOG=true
SENTRY_DSN=  # Leave empty to disable Sentry integration

# Metrics and Monitoring
# ---------------------
METRICS_ENABLED=true
METRICS_PORT=9090
PUSH_GATEWAY_URL=  # Prometheus Push Gateway URL (if any)
METRICS_JOB_NAME=scheduler
METRICS_INSTANCE=scheduler-01

# Security Settings
# ----------------
JWT_SECRET_KEY=change_this_to_a_secure_random_string
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
ENABLE_API_KEY_AUTH=false
API_KEY_HEADER_NAME=X-API-Key

# Development and Testing
# ----------------------
TEST_DATABASE_URL=sqlite:///:memory:
MOCK_EXECUTIONS=false  # Set to true to mock job executions in development
RELOAD=true  # Auto-reload on code changes (development only)